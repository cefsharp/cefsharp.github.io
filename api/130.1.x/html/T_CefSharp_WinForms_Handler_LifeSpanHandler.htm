<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="Microsoft.Help.SelfBranded" content="true" /><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Locale" content="en-us" /><meta name="Microsoft.Help.TopicLocale" content="en-us" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"></script><title>LifeSpanHandler Class</title><meta name="Title" content="LifeSpanHandler Class" /><meta name="Microsoft.Help.Id" content="T:CefSharp.WinForms.Handler.LifeSpanHandler" /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="System.Keywords" content="CefSharp.WinForms.Handler.LifeSpanHandler class" /><meta name="System.Keywords" content="LifeSpanHandler class" /><meta name="Microsoft.Help.F1" content="CefSharp.WinForms.Handler.LifeSpanHandler" /><meta name="Microsoft.Help.F1" content="LifeSpanHandler" /><meta name="container" content="CefSharp.WinForms.Handler" /><meta name="file" content="T_CefSharp_WinForms_Handler_LifeSpanHandler" /><meta name="guid" content="T_CefSharp_WinForms_Handler_LifeSpanHandler" /><meta name="Description" content="A WinForms Specific implementation that simplifies the process of hosting a Popup as a Control/Tab. This implementation returns true in so no WM_CLOSE message is sent, this differs from the default CEF behaviour." /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="SetDefaultLanguage('cs');"><input type="hidden" id="userDataCache" class="userDataStyle" /><div id="PageHeader" class="pageHeader">CefSharp API Doc<form id="SearchForm" method="get" action="#" onsubmit="TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/R_Project_Documentation.htm" title="CefSharp API Doc" tocid="roottoc">CefSharp API Doc</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/R_Project_Documentation.htm" title="Namespaces" tocid="R_Project_Documentation">Namespaces</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_CefSharp_WinForms_Handler.htm" title="CefSharp.WinForms.Handler" tocid="N_CefSharp_WinForms_Handler">CefSharp.WinForms.Handler</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/T_CefSharp_WinForms_Handler_LifeSpanHandler.htm" title="LifeSpanHandler Class" tocid="T_CefSharp_WinForms_Handler_LifeSpanHandler">LifeSpanHandler Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_CefSharp_WinForms_Handler_LifeSpanHandler__ctor.htm" title="LifeSpanHandler Constructor" tocid="M_CefSharp_WinForms_Handler_LifeSpanHandler__ctor">LifeSpanHandler Constructor</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/Methods_T_CefSharp_WinForms_Handler_LifeSpanHandler.htm" title="LifeSpanHandler Methods" tocid="Methods_T_CefSharp_WinForms_Handler_LifeSpanHandler">LifeSpanHandler Methods</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div id="TopicContent" class="topicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>Life<wbr />Span<wbr />Handler Class</h1></td></tr></table><span class="introStyle">Version 130.1.90</span><div class="summary">
            A WinForms Specific <a href="T_CefSharp_ILifeSpanHandler.htm">ILifeSpanHandler</a> implementation that simplifies
            the process of hosting a Popup as a Control/Tab.
            This <a href="T_CefSharp_ILifeSpanHandler.htm">ILifeSpanHandler</a> implementation returns true in <a href="M_CefSharp_ILifeSpanHandler_DoClose.htm">DoClose(IWebBrowser, IBrowser)</a>
            so no WM_CLOSE message is sent, this differs from the default CEF behaviour.
            </div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDDA')" onkeypress="SectionExpandCollapse_CheckKey('IDDA', event)" tabindex="0"><img id="IDDAToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="IDDASection" class="collapsibleSection"><a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LST5D1B8851_0" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>Object</a><br />  <a href="T_CefSharp_Handler_LifeSpanHandler.htm">CefSharp.Handler<span id="LST5D1B8851_1" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>LifeSpanHandler</a><br />    <span class="selflink">CefSharp.WinForms.Handler<span id="LST5D1B8851_2" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>LifeSpanHandler</span><br /></div><br /><strong>Namespace:</strong> <a href="N_CefSharp_WinForms_Handler.htm">CefSharp.WinForms.Handler</a><br /><strong>Assembly:</strong> CefSharp.WinForms (in CefSharp.WinForms.dll) Version: 129.0.110.0 (129.0.110.0)<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDB')" onkeypress="SectionExpandCollapse_CheckKey('IDB', event)" tabindex="0"><img id="IDBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="IDBSection" class="collapsibleSection"><div id="IDAB" class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="IDAB_tab1" class="codeSnippetContainerTab"><a href="#" onclick="ChangeTab('IDAB','cs','1','2');return false;">C#</a></div><div id="IDAB_tab2" class="codeSnippetContainerTab"><a href="#" onclick="ChangeTab('IDAB','cpp','2','2');return false;">C++</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="IDAB_copyCode" href="#" class="copyCodeSnippet" onclick="CopyToClipboard('IDAB');return false;" title="Copy">Copy</a></div></div><div id="IDAB_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">LifeSpanHandler</span> : <span class="identifier">LifeSpanHandler</span></pre></div><div id="IDAB_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">ref class</span> <span class="identifier">LifeSpanHandler</span> : <span class="keyword">public</span> <span class="identifier">LifeSpanHandler</span></pre></div></div></div></div><p>The <span class="selflink">LifeSpanHandler</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDAEA')" onkeypress="SectionExpandCollapse_CheckKey('IDAEA', event)" tabindex="0"><img id="IDAEAToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Constructors</span></div><div id="IDAEASection" class="collapsibleSection"><table id="ConstructorList" class="members"><tr><th class="iconColumn"> </th><th>Name</th><th>Description</th></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler__ctor.htm">LifeSpanHandler</a></td><td>
            Default constructor
            </td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('IDBEA')" onkeypress="SectionExpandCollapse_CheckKey('IDBEA', event)" tabindex="0"><img id="IDBEAToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="IDBEASection" class="collapsibleSection"><table id="MethodList" class="members"><tr><th class="iconColumn"> </th><th>Name</th><th>Description</th></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /><img src="../icons/Static.gif" alt="Static member" title="Static member" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_Create.htm">Create</a></td><td>
            Create a new instance of the <a href="T_CefSharp_WinForms_Handler_LifeSpanHandlerBuilder.htm">LifeSpanHandlerBuilder</a>
            which can be used to create a WinForms specific <a href="T_CefSharp_ILifeSpanHandler.htm">ILifeSpanHandler</a>
            implementation that simplifies the process of hosting a Popup as a Control/Tab.
            In scnarios where you also need to implement <a href="T_CefSharp_ILoadHandler.htm">ILoadHandler</a> then instead
            of implementing directly you will need to inherit from <a href="T_CefSharp_WinForms_Handler_LoadHandler.htm">LoadHandler</a>.
            As it provides base functionality required to make <a href="T_CefSharp_WinForms_Host_ChromiumHostControl.htm">ChromiumHostControl</a> events work correctly.
            </td></tr><tr><td><img src="../icons/protMethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_DoClose.htm">DoClose</a></td><td>
             Called when a browser has recieved a request to close. This may result
             directly from a call to CefBrowserHost::CloseBrowser() or indirectly if the
             browser is a top-level OS window created by CEF and the user attempts to
             close the window. This method will be called after the JavaScript
             'onunload' event has been fired. It will not be called for browsers after
             the associated OS window has been destroyed (for those browsers it is no
             longer possible to cancel the close).
            
             If CEF created an OS window for the browser returning false will send an OS
             close notification to the browser window's top-level owner (e.g. WM_CLOSE
             on Windows). If no OS window exists (window rendering disabled) returning false
             will cause the browser object to be destroyed immediately. Return true if
             the browser is parented to another window and that other window needs to
             receive close notification via some non-standard technique.
            
             !!IMPORTANT!!: Behaviour of this implementation differs from the default,
             the WM_CLOSE message is only sent by default for popups (return false),
             for the main browser we return true to cancel this behaviour.
            
             If an application provides its own top-level window it should handle OS
             close notifications by calling CefBrowserHost::CloseBrowser(false) instead
             of immediately closing (see the example below). This gives CEF an
             opportunity to process the 'onbeforeunload' event and optionally cancel the
             close before DoClose() is called.
            
             The CefLifeSpanHandler::OnBeforeClose() method will be called immediately
             before the browser object is destroyed. The application should only exit
             after OnBeforeClose() has been called for all existing browsers.
            
             If the browser represents a modal window and a custom modal loop
             implementation was provided in CefLifeSpanHandler::RunModal() this callback
             should be used to restore the opener window to a usable state.
            
             By way of example consider what should happen during window close when the
             browser is parented to an application-provided top-level OS window.
             1.  User clicks the window close button which sends an OS close
                 notification (e.g. WM_CLOSE on Windows, performClose: on OS-X and
                 "delete_event" on Linux).
             2.  Application's top-level window receives the close notification and:
                 A. Calls CefBrowserHost::CloseBrowser(false).
                 B. Cancels the window close.
             3.  JavaScript 'onbeforeunload' handler executes and shows the close
                 confirmation dialog (which can be overridden via
                 CefJSDialogHandler::OnBeforeUnloadDialog()).
             4.  User approves the close.
             5.  JavaScript 'onunload' handler executes.
             6.  Application's DoClose() handler is called. Application will:
                 A. Set a flag to indicate that the next close attempt will be allowed.
                 B. Return false.
             7.  CEF sends an OS close notification.
             8.  Application's top-level window receives the OS close notification and
                 allows the window to close based on the flag from #6B.
             9.  Browser OS window is destroyed.
             10. Application's CefLifeSpanHandler::OnBeforeClose() handler is called and
                 the browser object is destroyed.
             11. Application exits by calling CefQuitMessageLoop() if no other browsers
                 exist.
             <br />(Overrides <a href="M_CefSharp_Handler_LifeSpanHandler_DoClose.htm">LifeSpanHandler<span id="LST5D1B8851_3" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>DoClose(IWebBrowser, IBrowser)</a>)</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)" target="_blank" rel="noopener noreferrer">Equals</a></td><td>Determines whether the specified object is equal to the current object.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><img src="../icons/protMethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.finalize" target="_blank" rel="noopener noreferrer">Finalize</a></td><td>Allows an object to try to free resources and perform other cleanup operations before it is reclaimed by garbage collection.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode" target="_blank" rel="noopener noreferrer">GetHashCode</a></td><td>Serves as the default hash function. <br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.gettype" target="_blank" rel="noopener noreferrer">GetType</a></td><td>Gets the <a href="https://learn.microsoft.com/dotnet/api/system.type" target="_blank" rel="noopener noreferrer">Type</a> of the current instance.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><img src="../icons/protMethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone" target="_blank" rel="noopener noreferrer">MemberwiseClone</a></td><td>Creates a shallow copy of the current <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><img src="../icons/protMethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_OnAfterCreated.htm">OnAfterCreated</a></td><td>
            Called after a new browser is created.
            <br />(Overrides <a href="M_CefSharp_Handler_LifeSpanHandler_OnAfterCreated.htm">LifeSpanHandler<span id="LST5D1B8851_4" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>OnAfterCreated(IWebBrowser, IBrowser)</a>)</td></tr><tr><td><img src="../icons/protMethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_OnBeforeClose.htm">OnBeforeClose</a></td><td>
            Called before a CefBrowser window (either the main browser for <a href="T_CefSharp_IWebBrowser.htm">IWebBrowser</a>, 
            or one of its children)
            <br />(Overrides <a href="M_CefSharp_Handler_LifeSpanHandler_OnBeforeClose.htm">LifeSpanHandler<span id="LST5D1B8851_5" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>OnBeforeClose(IWebBrowser, IBrowser)</a>)</td></tr><tr><td><img src="../icons/protMethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_OnBeforePopup.htm">OnBeforePopup</a></td><td>
            Called before a popup window is created. By default the popup (browser) is created in a new native window.
            <br />(Overrides <a href="M_CefSharp_Handler_LifeSpanHandler_OnBeforePopup.htm">LifeSpanHandler<span id="LST5D1B8851_6" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>OnBeforePopup(IWebBrowser, IBrowser, IFrame, String, String, WindowOpenDisposition, Boolean, IPopupFeatures, IWindowInfo, IBrowserSettings, Boolean<span id="LST5D1B8851_7" data-languageSpecificText="cpp=%"></span>, IWebBrowser<span id="LST5D1B8851_8" data-languageSpecificText="cpp=%"></span>)</a>)</td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_OnBeforePopupCreated.htm">OnBeforePopupCreated</a></td><td>
            The <a href="T_CefSharp_WinForms_Handler_OnBeforePopupCreatedDelegate.htm">OnBeforePopupCreatedDelegate</a> will be called <b>before</b> the popup has been created and
            can be used to cancel popup creation if required or modify <a href="T_CefSharp_IBrowserSettings.htm">IBrowserSettings</a>.
            </td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_OnPopupBrowserCreated.htm">OnPopupBrowserCreated</a></td><td>
            The <a href="T_CefSharp_WinForms_Handler_OnPopupBrowserCreatedDelegate.htm">OnPopupBrowserCreatedDelegate</a> will be called when the<a href="T_CefSharp_IBrowser.htm">IBrowser</a> has been
            created. The <a href="T_CefSharp_IBrowser.htm">IBrowser</a> instance is valid until <a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_OnPopupDestroyed.htm">OnPopupDestroyed(OnPopupDestroyedDelegate)</a>
            is called. <a href="T_CefSharp_IBrowser.htm">IBrowser</a> provides low level access to the CEF Browser, you can access frames, view source,
            perform navigation (via frame) etc.
            </td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_OnPopupCreated.htm">OnPopupCreated</a></td><td>
            The <a href="T_CefSharp_WinForms_Handler_OnPopupCreatedDelegate.htm">OnPopupCreatedDelegate</a> will be called when the<a href="T_CefSharp_WinForms_Host_ChromiumHostControl.htm">ChromiumHostControl</a> has been
            created. When the <a href="T_CefSharp_WinForms_Handler_OnPopupCreatedDelegate.htm">OnPopupCreatedDelegate</a> is called you must add the control to it's intended parent
            so the <a href="https://learn.microsoft.com/dotnet/api/system.windows.forms.control.clientrectangle" target="_blank" rel="noopener noreferrer">ClientRectangle</a> can be calculated to set the initial
            size correctly.
            </td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_CefSharp_WinForms_Handler_LifeSpanHandler_OnPopupDestroyed.htm">OnPopupDestroyed</a></td><td>
            The <a href="T_CefSharp_WinForms_Handler_OnPopupDestroyedDelegate.htm">OnPopupDestroyedDelegate</a> will be called when the <a href="T_CefSharp_WinForms_Host_ChromiumHostControl.htm">ChromiumHostControl</a> is to be
            removed from it's parent.
            When the <a href="T_CefSharp_WinForms_Handler_OnPopupDestroyedDelegate.htm">OnPopupDestroyedDelegate</a> is called you must remove/dispose of the <a href="T_CefSharp_WinForms_Host_ChromiumHostControl.htm">ChromiumHostControl</a>.
            </td></tr><tr><td><img src="../icons/pubMethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://learn.microsoft.com/dotnet/api/system.object.tostring" target="_blank" rel="noopener noreferrer">ToString</a></td><td>Returns a string that represents the current object.<br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('seeAlso')" onkeypress="SectionExpandCollapse_CheckKey('seeAlso', event)" tabindex="0"><img id="seeAlsoToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="seeAlsoSection" class="collapsibleSection"><h4>Reference</h4><div><a href="N_CefSharp_WinForms_Handler.htm">CefSharp.WinForms.Handler Namespace</a></div></div></div></div><div id="PageFooter" class="pageFooter"><p><a href="https://raw.githubusercontent.com/cefsharp/CefSharp/master/LICENSE" target="_blank" rel="noopener noreferrer">https://raw.githubusercontent.com/cefsharp/CefSharp/master/LICENSE</a></p></div></body></html>